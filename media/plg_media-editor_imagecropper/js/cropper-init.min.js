!function(){jQuery(document).ready(function(){var a=document.getElementById("joomla-media-image-cropper");window.imageUrl=a.getAttribute("src"),window.postUrl=a.getAttribute("data-url");var b=new Cropper(a,{aspectRatio:16/9,crop:function(a){var b=[{x:a.detail.x,y:a.detail.y,height:a.detail.height,width:a.detail.width,rotate:a.detail.rotate,scaleX:a.detail.scaleX,scaleY:a.detail.scaleY}];document.getElementById("imagecropper-jsondata").value=b}}),c=function(a){var b=new XMLHttpRequest;b.open("POST",postUrl,!0),b.onload=function(){var a=JSON.parse(b.responseText);200==b.status?("0"==a.status&&console.log("Upload success"),"1"==a.status&&console.log("Upload success")):console.log("No Upload")},b.onerror=function(){console.log("Upload Error")},b.send(a)},d=function(){b.getCroppedCanvas().toBlob(function(a){var b=imageUrl.split("/").pop(),d=new FormData;d.append("files",a,b),c(d)})};window.cropperBoxDim={},jQuery(".btn-toolbar button").click(function(a){console.log(a.currentTarget);var c=a.currentTarget.getAttribute("data-method"),e=a.currentTarget.getAttribute("data-option"),f=a.currentTarget.getAttribute("data-second-option");switch(c){case"zoom":b.zoom(e);break;case"rotate":b.rotate(e);break;case"scaleX":b.scaleX(-b.getData().scaleX||-1);break;case"scaleY":b.scaleY(-b.getData().scaleY||-1);break;case"move":b.move(e,f);break;default:case"crop":b.getCroppedCanvas(),d()}})})}();